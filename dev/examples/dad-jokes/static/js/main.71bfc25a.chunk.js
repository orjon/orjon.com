(this["webpackJsonpdad-jokes"]=this["webpackJsonpdad-jokes"]||[]).push([[0],{23:function(e,t,o){e.exports=o.p+"static/media/face-palm-cropped.cbf94b25.png"},26:function(e,t,o){e.exports=o(55)},31:function(e,t,o){},50:function(e,t,o){},51:function(e,t,o){},54:function(e,t,o){},55:function(e,t,o){"use strict";o.r(t);var a=o(0),n=o.n(a),s=o(19),r=o.n(s),c=(o(31),o(25)),i=o(7),l=o.n(i),u=o(24),m=o(20),k=o(2),d=o(3),p=o(4),h=o(5),f=o(6),v=o(21),j=o.n(v),g=(o(50),o(51),function(e){Object(f.a)(o,e);var t=Object(h.a)(o);function o(){return Object(k.a)(this,o),t.apply(this,arguments)}return Object(d.a)(o,[{key:"voteColorEmoji",value:function(){return this.props.jokeVotes>=15?{color:"#4CAF50",face:"em em-rolling_on_the_floor_laughing"}:this.props.jokeVotes>=12?{color:"#8BC34A",face:"em em-laughing"}:this.props.jokeVotes>=9?{color:"#CDDC39",face:"em em-smiley"}:this.props.jokeVotes>=6?{color:"#FFEB3B",face:"em em-slightly_smiling_face"}:this.props.jokeVotes>=3?{color:"#FFC107",face:"em em-neutral_face"}:this.props.jokeVotes>=0?{color:"#FF9800",face:"em em-confused"}:{color:"#F44336",face:"em em-angry"}}},{key:"render",value:function(){var e=this.voteColorEmoji();return n.a.createElement("div",{className:"Joke"},n.a.createElement("div",{className:"Joke-votes"},n.a.createElement("div",{onClick:this.props.voteUp,className:"vote up"},n.a.createElement("p",null,"\u2191")),n.a.createElement("div",{className:"votes",style:{borderColor:e.color}},n.a.createElement("p",null,this.props.jokeVotes)),n.a.createElement("div",{onClick:this.props.voteDown,className:"vote down"},n.a.createElement("p",null,"\u2193"))),n.a.createElement("div",{className:"Joke-text"},this.props.jokeText),n.a.createElement("div",{className:"Joke-emoji"},n.a.createElement("i",{className:e.face,"aria-label":"BIRD"})))}}]),o}(a.Component)),E=o(22),b=o(23),J=o.n(b),w=function(e){Object(f.a)(o,e);var t=Object(h.a)(o);function o(e){var a;return Object(k.a)(this,o),(a=t.call(this,e)).state={jokes:JSON.parse(window.localStorage.getItem("jokes")||"[]"),loading:!1},a.seenJokes=new Set(a.state.jokes.map((function(e){return e.joke}))),a.moreJokes=a.moreJokes.bind(Object(p.a)(a)),a}return Object(d.a)(o,[{key:"componentDidMount",value:function(){0===this.state.jokes.length&&this.getJokes()}},{key:"getJokes",value:function(){var e=Object(m.a)(l.a.mark((function e(){var t,o,a,n=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,t=[];case 2:if(!(t.length<this.props.numJokesToGet)){e.next=10;break}return e.next=5,j.a.get("https://icanhazdadjoke.com/",{headers:{Accept:"application/json"}});case 5:o=e.sent,a=o.data.joke,this.seenJokes.has(a)?(console.log("found duplicate:"),console.log(a)):t.push({joke:a,votes:0,id:Object(E.v4)()}),e.next=2;break;case 10:this.setState((function(e){return{jokes:[].concat(Object(u.a)(e.jokes),t),loading:!1}}),(function(){return window.localStorage.setItem("jokes",JSON.stringify(n.state.jokes))})),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),alert(e.t0),this.setState({loading:!1});case 17:case"end":return e.stop()}}),e,this,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"moreJokes",value:function(){this.setState({loading:!0},this.getJokes)}},{key:"handleVote",value:function(e,t){var o=this;this.setState((function(o){return{jokes:o.jokes.map((function(o){return o.id===e?Object(c.a)({},o,{votes:o.votes+t}):o}))}}),(function(){return window.localStorage.setItem("jokes",JSON.stringify(o.state.jokes))}))}},{key:"render",value:function(){var e=this,t=this.state.jokes.sort((function(e,t){return t.votes-e.votes}));if(this.state.loading)return n.a.createElement("div",{className:"loading"},n.a.createElement("h1",null,"loading more hilarious jokes..."));var o=t.map((function(t){return n.a.createElement("div",{key:t.id},n.a.createElement(g,{jokeText:t.joke,jokeId:t.id,jokeVotes:t.votes,voteUp:function(){return e.handleVote(t.id,1)},voteDown:function(){return e.handleVote(t.id,-1)}}))}));return n.a.createElement("div",{className:"JokeList"},n.a.createElement("div",{className:"JokeList-sidebar"},n.a.createElement("h1",null,"Dad Jokes"),n.a.createElement("img",{src:J.a,alt:"older man face-palming"}),n.a.createElement("button",{onClick:this.moreJokes,className:"JokeList-getMore"},"More jokes please daddy!")),n.a.createElement("div",{className:"JokeList-jokes"},o))}}]),o}(a.Component);w.defaultProps={numJokesToGet:10};var y=w;o(54);var N=function(){return n.a.createElement("div",{className:"App"},n.a.createElement(y,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[26,1,2]]]);
//# sourceMappingURL=main.71bfc25a.chunk.js.map